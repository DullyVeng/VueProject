# 下一步开发计划

**更新时间**：2026-01-14 00:54  
**优先级**：P0 > P1 > P2

---

## ✅ 已完成（v0.3.1）

### 任务自动追踪
- ✅ combat.js - 战斗后追踪击杀任务
- ✅ MapView.vue - 采集后追踪收集任务
- ✅ game.js - 移动后追踪访问任务

### 经验系统
- ✅ character.js - gainExp() 方法
- ✅ quest.js - 完成任务时发放经验

### 额外改进
- ✅ NPC任务完成功能 + 奖励弹窗
- ✅ 任务条件提示
- ✅ 防止任务重复领取
- ✅ 奖励物品正确显示

---

## 🎯 立即需要完成（P0）

**无**（原P0任务已全部完成）

---

## 🔨 短期优化（P1）

### 1. 任务UI改进
**目标**：提升任务系统的用户体验

**功能点**：
- 在MapView中显示当前任务进度提示
- 添加任务追踪器组件（固定在屏幕一侧）
- 任务完成通知优化

**预计时间**：2小时

---

### 2. 资源采集优化
**功能点**：
- 添加采集动画（loading效果）
- 根据稀有度显示不同颜色
- 添加采集冷却时间

**预计时间**：1.5小时

---

### 3. NPC系统扩展
**功能点**：
- 添加更多NPC到其他地图
- 实现NPC好感度系统
- 根据好感度解锁特殊对话和商品

**预计时间**：3小时

---

## 🚀 新功能开发（P2）

### 1. 任务类型系统
**设计**：
- 主线剧情任务（一次性）
- 日常打怪任务（可重复）
- 日常提交材料任务（可重复）
- 探索任务

**需要修改**：
- `quests.js` - 添加 repeatable 和 dailyReset 字段
- `quest.js` - 支持任务重置逻辑

**预计时间**：2小时

---

### 2. 随机事件系统
**设计**：
- 在地图探索时随机触发事件
- 事件类型：战斗、奖励、选择题
- 事件结果影响游戏进程

**预计时间**：4小时

---

### 3. 探索度系统
**设计**：
- 记录每个地图的探索进度
- 探索度达到100%获得奖励
- 解锁隐藏区域

**预计时间**：3小时

---

## 🐛 已知Bug

### 高优先级
无

### 中优先级
1. 采集结果弹窗关闭后背景仍可点击

### 低优先级
1. 地图节点在某些分辨率下可能重叠

---

## 📅 建议开发顺序

### 本周已完成
1. ✅ 完成任务自动追踪（P0）
2. ✅ 实现经验系统（P0）
3. ✅ 任务交互改进

### 下一步
1. 任务UI改进（P1）
2. 资源采集优化（P1）
3. 任务类型系统（P2）

---

**语言校验：全部中文 ✓**
