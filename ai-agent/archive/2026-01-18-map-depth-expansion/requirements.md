# 小地图深度扩展 - 需求文档

**创建时间**：2026-01-18
**来源**：用户请求

---

## 用户原始需求

> 目前小地图内容比较简陋，需要增加小地图的深度，比如增加地图宝箱，把显性怪物修改为精英怪，制定怪物系统，丰富怪物内容和对应的奖励。增加地图首领BOSS。

---

## 功能需求分解

### FR-1：精英怪系统

**描述**：现有小地图中的显性怪物应升级为精英怪

**详细需求**：
- [ ] 精英怪应具有比普通怪更强的属性
  - 生命值 x2
  - 攻击力 x1.5
  - 防御力 x1.3
- [ ] 精英怪应有可识别的视觉标识
- [ ] 精英怪应有独特的前缀名称（如"狂暴的"、"坚韧的"）
- [ ] 精英怪击败后奖励应高于普通怪

### FR-2：地图 BOSS 系统

**描述**：每个小地图应有一个固定 BOSS

**详细需求**：
- [ ] BOSS 位置应固定在地图中心或特定区域
- [ ] BOSS 属性应远超普通和精英怪物
  - 生命值 x5
  - 攻击力 x3
  - 特殊技能（可后期扩展）
- [ ] BOSS 击败后进入冷却期（建议 24 小时）
- [ ] BOSS 必掉大量灵石
- [ ] BOSS 概率掉落稀有物品（封印法宝、建筑图纸）
- [ ] 首杀奖励（额外经验或成就）

### FR-3：宝箱系统

**描述**：地图中应出现可交互的宝箱

**详细需求**：
- [ ] 宝箱分为多个等级（木箱、铁箱、金箱）
- [ ] 宝箱应随机分布在可行走区域
- [ ] 玩家接触宝箱后触发开启
- [ ] 宝箱内容根据等级概率表生成
- [ ] 宝箱开启后消失，地图刷新后重置

### FR-4：奖励系统

**描述**：完善怪物和宝箱的奖励机制

**详细需求**：
- [ ] 精英怪掉落倍率为普通怪 x2
- [ ] 精英怪有概率掉落法宝
- [ ] BOSS 掉落独特物品
- [ ] 宝箱奖励根据等级差异化

---

## 非功能需求

- **性能**：宝箱和怪物数量应控制在合理范围，避免影响渲染
- **可扩展**：数据结构应支持后续添加更多精英词条和 BOSS 技能
- **一致性**：复用现有怪物系统和物品系统
