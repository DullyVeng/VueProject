# 法宝获取系统 - 任务清单

## 阶段1：商店法宝购买

### 1.1 数据配置
- [x] 在 `data/items.js` 新增法宝商品类型 (使用 `data/fabaoShop.js`)
- [x] 在 NPC 配置中添加法宝商店 NPC（炼器师/法宝商人）

### 1.2 UI组件
- [x] 新建 `FabaoShopDialog.vue` 法宝商店组件
- [x] 显示法宝属性预览（稀有度、境界、形状）
- [x] 实现购买确认流程

### 1.3 逻辑集成
- [x] 购买时调用 `fabaoStore.addFabao()` 添加法宝
- [x] 扣除灵石

---

## 阶段2：怪物掉落法宝

### 2.1 掉落配置
- [x] 新建 `data/fabaoDrops.js` 法宝掉落表
- [x] 定义掉落池（按怪物等级/类型分组）
- [x] 定义稀有度概率

### 2.2 战斗集成
- [x] 修改 `combat.js` 战斗胜利奖励逻辑
- [x] 添加法宝掉落判定
- [x] 奖励展示 UI 添加法宝显示

---

## 阶段3：宗门贡献兑换

### 3.1 贡献度系统
- [x] 角色数据新增 `contribution` 字段
- [x] 数据库更新
- [x] `character.js` 添加贡献度管理

### 3.2 兑换商店
- [x] 新增宗门 NPC（执事）
- [x] 新建 `SectShopDialog.vue` 宗门商店组件
- [x] 实现贡献度兑换法宝

---

## 阶段4：BOSS封印系统（可选）
- [ ] 设计封印法宝数据结构
- [ ] BOSS 战斗增加封印法宝掉落
- [ ] 炼器房解封功能
- [ ] 解封结果：法宝碎片/破损法宝/完整法宝

---

## 下一步行动

**开发完成**：商店购买、怪物掉落、宗门兑换三大功能已实现。
